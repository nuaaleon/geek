<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <style type="text/css">

#watermark {

  position: relative;
  overflow: hidden;
}

#watermark .x {
  position: absolute;
  top: 800;
  left: 400;
  color: #3300ff;
  font-size: 50px;
  pointer-events: none;
  opacity:0.5;
  filter:Alpha(opacity=50);
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
}
    </style>


    <style type="text/css">
 html{color:#333;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-rendering:optimizelegibility;font-family:Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif}html.borderbox *,html.borderbox :after,html.borderbox :before{box-sizing:border-box}article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul{margin:0;padding:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}audio,canvas,video{display:inline-block}body,button,input,select,textarea{font:300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}blockquote{position:relative;color:#999;font-weight:400;border-left:1px solid #1abc9c;padding-left:1em;margin:1em 3em 1em 2em}@media only screen and (max-width:640px){blockquote{margin:1em 0}}abbr,acronym{border-bottom:1px dotted;font-variant:normal}abbr{cursor:help}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}q:after,q:before{content:""}sub,sup{font-size:75%;line-height:0;position:relative}:root sub,:root sup{vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a{color:#1abc9c}a:hover{text-decoration:underline}.typo a{border-bottom:1px solid #1abc9c}.typo a:hover{border-bottom-color:#555;color:#555}.typo a:hover,a,ins{text-decoration:none}.typo-u,u{text-decoration:underline}mark{background:#fffdd1;border-bottom:1px solid #ffedce;padding:2px;margin:0 5px}code,pre,pre tt{font-family:Courier,Courier New,monospace}pre{background:hsla(0,0%,97%,.7);border:1px solid #ddd;padding:1em 1.5em;display:block;-webkit-overflow-scrolling:touch}hr{border:none;border-bottom:1px solid #cfcfcf;margin-bottom:.8em;height:10px}.typo-small,figcaption,small{font-size:.9em;color:#888}b,strong{font-weight:700;color:#000}[draggable]{cursor:move}.clearfix:after,.clearfix:before{content:"";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.textwrap,.textwrap td,.textwrap th{word-wrap:break-word;word-break:break-all}.textwrap-table{table-layout:fixed}.serif{font-family:Palatino,Optima,Georgia,serif}.typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote{margin-bottom:1rem}h1,h2,h3,h4,h5,h6{font-family:PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#000;line-height:1.35}.typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6{margin-top:1.2em;margin-bottom:.6em;line-height:1.35}.typo-h1,.typo h1{font-size:2em}.typo-h2,.typo h2{font-size:1.8em}.typo-h3,.typo h3{font-size:1.6em}.typo-h4,.typo h4{font-size:1.4em}.typo-h5,.typo-h6,.typo h5,.typo h6{font-size:1.2em}.typo-ul,.typo ul{margin-left:1.3em;list-style:disc}.typo-ol,.typo ol{list-style:decimal;margin-left:1.9em}.typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul{margin-bottom:.8em;margin-left:2em}.typo-ol ul,.typo-ul ul,.typo li ul{list-style:circle}.typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th{border:1px solid #ddd;padding:.5em 1em;color:#666}.typo-table th,.typo table th{background:#fbfbfb}.typo-table thead th,.typo table thead th{background:hsla(0,0%,95%,.7)}.typo table caption{border-bottom:none}.typo-input,.typo-textarea{-webkit-appearance:none;border-radius:0}.typo-em,.typo em,caption,legend{color:#000;font-weight:inherit}.typo-em{position:relative}.typo-em:after{position:absolute;top:.65em;left:0;width:100%;overflow:hidden;white-space:nowrap;content:"\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"}.typo img{max-width:100%}.common-content{font-weight:400;color:#353535;line-height:1.75rem;white-space:normal;word-break:normal;font-size:1rem}.common-content img{display:block;max-width:100%;background-color:#eee}.common-content audio,.common-content video{width:100%;background-color:#eee}.common-content center,.common-content font{margin-top:1rem;display:inline-block}.common-content center{width:100%}.common-content pre{margin-top:1rem;padding-left:0;padding-right:0;position:relative;overflow:hidden}.common-content pre code{font-size:.8rem;font-family:Consolas,Liberation Mono,Menlo,monospace,Courier;display:block;width:100%;box-sizing:border-box;padding-left:1rem;padding-right:1rem;overflow-x:auto}.common-content hr{border:none;margin-top:1.5rem;margin-bottom:1.5rem;border-top:1px solid #f5f5f5;height:1px;background:none}.common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong{font-weight:700}.common-content h1,.common-content h2{font-size:1.125rem;margin-bottom:.45rem}.common-content h3,.common-content h4,.common-content h5{font-size:1rem;margin-bottom:.45rem}.common-content p{font-weight:400;color:#353535;margin-top:.15rem}.common-content .orange{color:#ff5a05}.common-content .reference{font-size:1rem;color:#888}.custom-rich-content h1{margin-top:0;font-weight:400;font-size:15.25px;border-bottom:1px solid #eee;line-height:2.8}.custom-rich-content li,.custom-rich-content p{font-size:14px;color:#888;line-height:1.6}table.hljs-ln{margin-bottom:0;border-spacing:0;border-collapse:collapse}table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr{box-sizing:border-box}table.hljs-ln td{padding:0;border:0}table.hljs-ln td.hljs-ln-numbers{min-width:15px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;cursor:pointer;user-select:none}table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;line-height:20px;vertical-align:top}table.hljs-ln td.hljs-ln-code{position:relative;padding-right:10px;padding-left:10px;overflow:visible;color:#24292e;word-wrap:normal;white-space:pre}video::-webkit-media-controls{overflow:hidden!important}video::-webkit-media-controls-enclosure{width:calc(100% + 32px);margin-left:auto}.button-cancel{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel,.button-primary{-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary{color:#fff;background-color:#ff5a05;border-radius:3px}@font-face{font-family:iconfont;src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot);src:url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg")}@font-face{font-family:player-font;src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot);src:url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}html{background:#fff;min-height:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{width:100%}body.fixed{overflow:hidden;position:fixed;width:100vw;height:100vh}i{font-style:normal}a{word-wrap:break-word;-webkit-tap-highlight-color:rgba(0,0,0,0)}a:hover{text-decoration:none}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG{outline:0}.ios-app-switch .js-audit{display:none}._loading_wrap_{position:fixed;width:100vw;height:100vh;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}._loading_div_class_,._loading_wrap_{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}._loading_div_class_{word-wrap:break-word;padding:.5rem .75rem;text-align:center;z-index:9999;font-size:.6rem;max-width:60%;color:#fff;border-radius:.25rem;-ms-flex-direction:column;flex-direction:column}._loading_div_class_ .message{color:#353535;font-size:16px;line-height:3}.spinner{animation:circle-rotator 1.4s linear infinite}.spinner *{line-height:0;box-sizing:border-box}@keyframes circle-rotator{0%{transform:rotate(0deg)}to{transform:rotate(270deg)}}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite}@keyframes circle-colors{0%{stroke:#ff5a05}to{stroke:#ff5a05}}@keyframes circle-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}.confirm-box-wrapper,.confirm-box-wrapper .mask{position:absolute;top:0;left:0;right:0;bottom:0}.confirm-box-wrapper .mask{background:rgba(0,0,0,.6)}.confirm-box-wrapper .confirm-box{position:fixed;top:50%;left:50%;width:267px;background:#fff;transform:translate(-50%,-50%);border-radius:7px}.confirm-box-wrapper .confirm-box .head{margin:0 18px;font-size:18px;text-align:center;line-height:65px;border-bottom:1px solid #d9d9d9}.confirm-box-wrapper .confirm-box .body{padding:18px;padding-bottom:0;color:#353535;font-size:12.5px;max-height:150px;overflow:auto}.confirm-box-wrapper .confirm-box .foot{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:18px}.confirm-box-wrapper .confirm-box .foot .button-cancel{border:1px solid #d9d9d9}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}




    </style>
    <style type="text/css">
        .button-cancel[data-v-87ffcada]{color:#888;border:1px solid #888;border-radius:3px;margin-right:12px}.button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;height:35px;display:inline-block;font-size:15px;text-align:center;line-height:36px}.button-primary[data-v-87ffcada]{color:#fff;background-color:#ff5a05;border-radius:3px}.pd[data-v-87ffcada]{padding-left:1.375rem;padding-right:1.375rem}.article[data-v-87ffcada]{max-width:70rem;margin:0 auto}.article .article-unavailable[data-v-87ffcada]{color:#fa8919;font-size:15px;font-weight:600;line-height:24px;border-radius:5px;padding:12px;background-color:#f6f7fb;margin-top:20px}.article .article-unavailable .iconfont[data-v-87ffcada]{font-size:12px}.article .main[data-v-87ffcada]{padding:1.25rem 0;margin-bottom:52px}.article-title[data-v-87ffcada]{color:#353535;font-weight:400;line-height:1.65rem;font-size:1.34375rem}.article-info[data-v-87ffcada]{color:#888;font-size:.9375rem;margin-top:1.0625rem}.article-content[data-v-87ffcada]{margin-top:1.0625rem}.article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button{display:none}.copyright[data-v-87ffcada]{color:#b2b2b2;padding-bottom:20px;margin-top:20px;font-size:13px}.audio-player[data-v-87ffcada]{width:100%;margin:20px 0}.to-comment[data-v-87ffcada]{overflow:hidden;padding-top:10px;margin-bottom:-30px}.to-comment a.button-primary[data-v-87ffcada]{float:right;height:20px;font-size:12px;line-height:20px;padding:4px 8px;cursor:pointer}.article-comments[data-v-87ffcada]{margin-top:2rem}.article-comments h2[data-v-87ffcada]{text-align:center;color:#888;position:relative;z-index:1;margin-bottom:1rem}.article-comments h2[data-v-87ffcada]:before{border-top:1px dotted #888;content:"";position:absolute;top:56%;left:0;width:100%;z-index:-1}.article-comments h2 span[data-v-87ffcada]{font-size:15.25px;font-weight:400;padding:0 1rem;background:#fff;display:inline-block}.article-sub-bottom[data-v-87ffcada]{z-index:10;cursor:pointer}.switch-btns[data-v-87ffcada]{height:76px;cursor:pointer;padding-top:24px;padding-bottom:24px;border-bottom:10px solid #f6f7fb;position:relative}.switch-btns[data-v-87ffcada]:before{content:" ";height:1px;background:#e8e8e8;position:absolute;top:0;left:0;-webkit-box-sizing:border-box;box-sizing:border-box;left:1.375rem;right:1.375rem}.switch-btns .btn[data-v-87ffcada]{height:38px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.switch-btns .btn .tag[data-v-87ffcada]{-webkit-box-flex:0;-ms-flex:0 0 62px;flex:0 0 62px;text-align:center;color:#888;font-size:14px;border-radius:10px;height:22px;line-height:22px;background:#f6f7fb;font-weight:400}.switch-btns .btn .txt[data-v-87ffcada]{margin-left:10px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#888;font-size:15px;height:22px;line-height:22px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400}@media (max-width:769px){.article .breadcrumb[data-v-87ffcada]{padding-top:10px;padding-bottom:10px}}





    </style>

    <style type="text/css">
        .comment-item{list-style-position:inside;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:1rem}.comment-item a{border-bottom:none}.comment-item .avatar{width:2.625rem;height:2.625rem;-ms-flex-negative:0;flex-shrink:0;border-radius:50%}.comment-item .info{margin-left:.5rem;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.comment-item .info .hd{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .username{color:#888;font-size:15.25px;font-weight:400;line-height:1.2}.comment-item .info .hd .control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.comment-item .info .hd .control .btn-share{color:#888;font-size:.75rem;margin-right:1rem}.comment-item .info .hd .control .btn-praise{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15.25px;text-decoration:none}.comment-item .info .hd .control .btn-praise i{color:#888;display:inline-block;font-size:.75rem;margin-right:.3rem;margin-top:-.01rem}.comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span{color:#ff5a05}.comment-item .info .bd{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6}.comment-item .info .time{color:#888;font-size:9px;line-height:1}.comment-item .info .reply .reply-hd{font-size:15.25px}.comment-item .info .reply .reply-hd span{margin-left:-12px;color:#888;font-weight:400}.comment-item .info .reply .reply-hd i{color:#ff5a05;font-size:15.25px}.comment-item .info .reply .reply-content{color:#353535;font-size:15.25px;font-weight:400;white-space:normal;word-break:break-all}.comment-item .info .reply .reply-time{color:#888;font-size:9px}




    </style>
</head>
<body>
<div id="app">


    <div data-v-87ffcada="" class="article" id="watermark">
        <p class="x">æ›´å¤šè¯¾ç¨‹è¯·åŠ QQ1046877154ï¼Œå¾®ä¿¡loveu_110è·å–</p>
        <div data-v-87ffcada="" class="main main-app">
            <h1 data-v-87ffcada="" class="article-title pd">
                12è®²ä½¿ç”¨å‡½æ•°çš„æ­£ç¡®å§¿åŠ¿
            </h1>
            <div data-v-87ffcada="" class="article-content typo common-content pd"><img data-v-87ffcada=""
                                                                                        src="https://static001.geekbang.org/resource/image/a1/64/a1364195d6b1038d19da2271c6217764.jpg">


                <div data-v-87ffcada="" id="article-content" class="">
                    <div class="text">
                        <p>åœ¨å‰å‡ æœŸæ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åˆ†äº†å‡ æ¬¡ï¼ŒæŠŠGoè¯­è¨€è‡ªèº«æä¾›çš„ï¼Œæ‰€æœ‰é›†åˆç±»çš„æ•°æ®ç±»å‹éƒ½è®²äº†ä¸€éï¼Œé¢å¤–è¿˜è®²äº†æ ‡å‡†åº“çš„<code>container</code>åŒ…ä¸­çš„å‡ ä¸ªç±»å‹ã€‚</p><p>åœ¨å‡ ä¹æ‰€æœ‰ä¸»æµçš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œé›†åˆç±»çš„æ•°æ®ç±»å‹éƒ½æ˜¯æœ€å¸¸ç”¨å’Œæœ€é‡è¦çš„ã€‚æˆ‘å¸Œæœ›é€šè¿‡è¿™å‡ æ¬¡çš„è®¨è®ºï¼Œèƒ½è®©ä½ å¯¹å®ƒä»¬çš„è¿ç”¨æ›´ä¸Šä¸€å±‚æ¥¼ã€‚</p><p>ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä¼šå¼€å§‹å‘ä½ ä»‹ç»ä½¿ç”¨Goè¯­è¨€è¿›è¡Œæ¨¡å—åŒ–ç¼–ç¨‹æ—¶ï¼Œå¿…é¡»äº†è§£çš„çŸ¥è¯†ï¼Œè¿™åŒ…æ‹¬å‡ ä¸ªé‡è¦çš„æ•°æ®ç±»å‹ä»¥åŠä¸€äº›æ¨¡å—åŒ–ç¼–ç¨‹çš„æŠ€å·§ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£çš„æ˜¯Goè¯­è¨€çš„å‡½æ•°ä»¥åŠå‡½æ•°ç±»å‹ã€‚</p><hr></hr><h3>å‰å¯¼å†…å®¹ï¼šå‡½æ•°æ˜¯ä¸€ç­‰çš„å…¬æ°‘</h3><p>åœ¨Goè¯­è¨€ä¸­ï¼Œå‡½æ•°å¯æ˜¯ä¸€ç­‰çš„ï¼ˆfirst-classï¼‰å…¬æ°‘ï¼Œå‡½æ•°ç±»å‹ä¹Ÿæ˜¯ä¸€ç­‰çš„æ•°æ®ç±»å‹ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p><p>ç®€å•æ¥è¯´ï¼Œè¿™æ„å‘³ç€å‡½æ•°ä¸ä½†å¯ä»¥ç”¨äºå°è£…ä»£ç ã€åˆ†å‰²åŠŸèƒ½ã€è§£è€¦é€»è¾‘ï¼Œè¿˜å¯ä»¥åŒ–èº«ä¸ºæ™®é€šçš„å€¼ï¼Œåœ¨å…¶ä»–å‡½æ•°é—´ä¼ é€’ã€èµ‹äºˆå˜é‡ã€åšç±»å‹åˆ¤æ–­å’Œè½¬æ¢ç­‰ç­‰ï¼Œå°±åƒåˆ‡ç‰‡å’Œå­—å…¸çš„å€¼é‚£æ ·ã€‚</p><p>è€Œæ›´æ·±å±‚æ¬¡çš„å«ä¹‰å°±æ˜¯ï¼šå‡½æ•°å€¼å¯ä»¥ç”±æ­¤æˆä¸ºèƒ½å¤Ÿè¢«éšæ„ä¼ æ’­çš„ç‹¬ç«‹é€»è¾‘ç»„ä»¶ï¼ˆæˆ–è€…è¯´åŠŸèƒ½æ¨¡å—ï¼‰ã€‚</p><p>å¯¹äºå‡½æ•°ç±»å‹æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ç§å¯¹ä¸€ç»„è¾“å…¥ã€è¾“å‡ºè¿›è¡Œæ¨¡æ¿åŒ–çš„é‡è¦å·¥å…·ï¼Œå®ƒæ¯”æ¥å£ç±»å‹æ›´åŠ è½»å·§ã€çµæ´»ï¼Œå®ƒçš„å€¼ä¹Ÿå€Ÿæ­¤å˜æˆäº†å¯è¢«çƒ­æ›¿æ¢çš„é€»è¾‘ç»„ä»¶ã€‚æ¯”å¦‚ï¼Œæˆ‘åœ¨demo26.goæ–‡ä»¶ä¸­æ˜¯è¿™æ ·å†™çš„ï¼š</p><pre><code>package main

import &quot;fmt&quot;

type Printer func(contents string) (n int, err error)

func printToStd(contents string) (bytesNum int, err error) {
	return fmt.Println(contents)
}

func main() {
	var p Printer
	p = printToStd
	p(&quot;something&quot;)
}
</code></pre><!-- [[[read_end]]] --><p>è¿™é‡Œï¼Œæˆ‘å…ˆå£°æ˜äº†ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œåå«<code>Printer</code>ã€‚</p><p>æ³¨æ„è¿™é‡Œçš„å†™æ³•ï¼Œåœ¨ç±»å‹å£°æ˜çš„åç§°å³è¾¹çš„æ˜¯<code>func</code>å…³é”®å­—ï¼Œæˆ‘ä»¬ç”±æ­¤å°±å¯çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å£°æ˜ã€‚</p><p>åœ¨<code>func</code>å³è¾¹çš„å°±æ˜¯è¿™ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°åˆ—è¡¨å’Œç»“æœåˆ—è¡¨ã€‚å…¶ä¸­ï¼Œå‚æ•°åˆ—è¡¨å¿…é¡»ç”±åœ†æ‹¬å·åŒ…è£¹ï¼Œè€Œåªè¦ç»“æœåˆ—è¡¨ä¸­åªæœ‰ä¸€ä¸ªç»“æœå£°æ˜ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸ºå®ƒå‘½åï¼Œæˆ‘ä»¬å°±å¯ä»¥çœç•¥æ‰å¤–å›´çš„åœ†æ‹¬å·ã€‚</p><p>ä¹¦å†™å‡½æ•°ç­¾åçš„æ–¹å¼ä¸å‡½æ•°å£°æ˜çš„æ˜¯ä¸€è‡´çš„ã€‚åªæ˜¯ç´§æŒ¨åœ¨å‚æ•°åˆ—è¡¨å·¦è¾¹çš„ä¸æ˜¯å‡½æ•°åç§°ï¼Œè€Œæ˜¯å…³é”®å­—<code>func</code>ã€‚è¿™é‡Œå‡½æ•°åç§°å’Œ<code>func</code>äº’æ¢äº†ä¸€ä¸‹ä½ç½®è€Œå·²ã€‚</p><blockquote>
<p><span class="reference">å‡½æ•°çš„ç­¾åå…¶å®å°±æ˜¯å‡½æ•°çš„å‚æ•°åˆ—è¡¨å’Œç»“æœåˆ—è¡¨çš„ç»Ÿç§°ï¼Œå®ƒå®šä¹‰äº†å¯ç”¨æ¥é‰´åˆ«ä¸åŒå‡½æ•°çš„é‚£äº›ç‰¹å¾ï¼ŒåŒæ—¶ä¹Ÿå®šä¹‰äº†æˆ‘ä»¬ä¸å‡½æ•°äº¤äº’çš„æ–¹å¼ã€‚</span></p>
</blockquote><p>æ³¨æ„ï¼Œå„ä¸ªå‚æ•°å’Œç»“æœçš„åç§°ä¸èƒ½ç®—ä½œå‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œç”šè‡³å¯¹äºç»“æœå£°æ˜æ¥è¯´ï¼Œæ²¡æœ‰åç§°éƒ½å¯ä»¥ã€‚</p><p>åªè¦ä¸¤ä¸ªå‡½æ•°çš„å‚æ•°åˆ—è¡¨å’Œç»“æœåˆ—è¡¨ä¸­çš„å…ƒç´ é¡ºåºåŠå…¶ç±»å‹æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯´å®ƒä»¬æ˜¯ä¸€æ ·çš„å‡½æ•°ï¼Œæˆ–è€…è¯´æ˜¯å®ç°äº†åŒä¸€ä¸ªå‡½æ•°ç±»å‹çš„å‡½æ•°ã€‚</p><p>ä¸¥æ ¼æ¥è¯´ï¼Œå‡½æ•°çš„åç§°ä¹Ÿä¸èƒ½ç®—ä½œå‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒåªæ˜¯æˆ‘ä»¬åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œéœ€è¦ç»™å®šçš„æ ‡è¯†ç¬¦è€Œå·²ã€‚</p><p>æˆ‘åœ¨ä¸‹é¢å£°æ˜çš„å‡½æ•°<code>printToStd</code>çš„ç­¾åä¸<code>Printer</code>çš„æ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤å‰è€…æ˜¯åè€…çš„ä¸€ä¸ªå®ç°ï¼Œå³ä½¿å®ƒä»¬çš„åç§°ä»¥åŠæœ‰çš„ç»“æœåç§°æ˜¯ä¸åŒçš„ã€‚</p><p>é€šè¿‡<code>main</code>å‡½æ•°ä¸­çš„ä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯å®è¿™ä¸¤è€…çš„å…³ç³»äº†ï¼Œæˆ‘é¡ºåˆ©åœ°æŠŠ<code>printToStd</code>å‡½æ•°èµ‹ç»™äº†<code>Printer</code>ç±»å‹çš„å˜é‡<code>p</code>ï¼Œå¹¶ä¸”æˆåŠŸåœ°è°ƒç”¨äº†å®ƒã€‚</p><p>æ€»ä¹‹ï¼Œâ€œå‡½æ•°æ˜¯ä¸€ç­‰çš„å…¬æ°‘â€æ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼ˆfunctional programmingï¼‰çš„é‡è¦ç‰¹å¾ã€‚Goè¯­è¨€åœ¨è¯­è¨€å±‚é¢æ”¯æŒäº†å‡½æ•°å¼ç¼–ç¨‹ã€‚æˆ‘ä»¬ä¸‹é¢çš„é—®é¢˜å°±ä¸æ­¤æœ‰å…³ã€‚</p><p><strong>ä»Šå¤©çš„é—®é¢˜æ˜¯ï¼šæ€æ ·ç¼–å†™é«˜é˜¶å‡½æ•°ï¼Ÿ</strong></p><p>å…ˆæ¥è¯´è¯´ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Ÿç®€å•åœ°è¯´ï¼Œé«˜é˜¶å‡½æ•°å¯ä»¥æ»¡è¶³ä¸‹é¢çš„ä¸¤ä¸ªæ¡ä»¶ï¼š</p><p><strong>1. æ¥å—å…¶ä»–çš„å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ï¼›</strong><br>
<strong>2. æŠŠå…¶ä»–çš„å‡½æ•°ä½œä¸ºç»“æœè¿”å›ã€‚</strong></p><p>åªè¦æ»¡è¶³äº†å…¶ä¸­ä»»æ„ä¸€ä¸ªç‰¹ç‚¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯´è¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚é«˜é˜¶å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„é‡è¦æ¦‚å¿µå’Œç‰¹å¾ã€‚</p><p>å…·ä½“çš„é—®é¢˜æ˜¯ï¼Œæˆ‘æƒ³é€šè¿‡ç¼–å†™<code>calculate</code>å‡½æ•°æ¥å®ç°ä¸¤ä¸ªæ•´æ•°é—´çš„åŠ å‡ä¹˜é™¤è¿ç®—ï¼Œä½†æ˜¯å¸Œæœ›ä¸¤ä¸ªæ•´æ•°å’Œå…·ä½“çš„æ“ä½œéƒ½ç”±è¯¥å‡½æ•°çš„è°ƒç”¨æ–¹ç»™å‡ºï¼Œé‚£ä¹ˆï¼Œè¿™æ ·ä¸€ä¸ªå‡½æ•°åº”è¯¥æ€æ ·ç¼–å†™å‘¢ã€‚</p><p><strong>å…¸å‹å›ç­”</strong></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å£°æ˜ä¸€ä¸ªåå«<code>operate</code>çš„å‡½æ•°ç±»å‹ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°å’Œä¸€ä¸ªç»“æœï¼Œéƒ½æ˜¯<code>int</code>ç±»å‹çš„ã€‚</p><pre><code>type operate func(x, y int) int
</code></pre><p>ç„¶åï¼Œæˆ‘ä»¬ç¼–å†™<code>calculate</code>å‡½æ•°çš„ç­¾åéƒ¨åˆ†ã€‚è¿™ä¸ªå‡½æ•°é™¤äº†éœ€è¦ä¸¤ä¸ª<code>int</code>ç±»å‹çš„å‚æ•°ä¹‹å¤–ï¼Œè¿˜åº”è¯¥æœ‰ä¸€ä¸ª<code>operate</code>ç±»å‹çš„å‚æ•°ã€‚</p><p>è¯¥å‡½æ•°çš„ç»“æœåº”è¯¥æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯<code>int</code>ç±»å‹çš„ï¼Œä»£è¡¨çœŸæ­£çš„æ“ä½œç»“æœï¼Œå¦ä¸€ä¸ªåº”è¯¥æ˜¯<code>error</code>ç±»å‹çš„ï¼Œå› ä¸ºå¦‚æœé‚£ä¸ª<code>operate</code>ç±»å‹çš„å‚æ•°å€¼ä¸º<code>nil</code>ï¼Œé‚£ä¹ˆå°±åº”è¯¥ç›´æ¥è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p><blockquote>
<p><span class="reference">é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå‡½æ•°ç±»å‹å±äºå¼•ç”¨ç±»å‹ï¼Œå®ƒçš„å€¼å¯ä»¥ä¸º<code>nil</code>ï¼Œè€Œè¿™ç§ç±»å‹çš„é›¶å€¼æ°æ°å°±æ˜¯<code>nil</code>ã€‚</span></p>
</blockquote><pre><code>func calculate(x int, y int, op operate) (int, error) {
	if op == nil {
		return 0, errors.New(&quot;invalid operation&quot;)
	}
	return op(x, y), nil
}
</code></pre><p><code>calculate</code>å‡½æ•°å®ç°èµ·æ¥å°±å¾ˆç®€å•äº†ã€‚æˆ‘ä»¬éœ€è¦å…ˆç”¨å«è¿°è¯­å¥æ£€æŸ¥ä¸€ä¸‹å‚æ•°ï¼Œå¦‚æœ<code>operate</code>ç±»å‹çš„å‚æ•°<code>op</code>ä¸º<code>nil</code>ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿”å›<code>0</code>å’Œä¸€ä¸ªä»£è¡¨äº†å…·ä½“é”™è¯¯çš„<code>error</code>ç±»å‹å€¼ã€‚</p><blockquote>
<p><span class="reference">å«è¿°è¯­å¥æ˜¯æŒ‡è¢«ç”¨æ¥æ£€æŸ¥å…³é”®çš„å…ˆå†³æ¡ä»¶çš„åˆæ³•æ€§ï¼Œå¹¶åœ¨æ£€æŸ¥æœªé€šè¿‡çš„æƒ…å†µä¸‹ç«‹å³ç»ˆæ­¢å½“å‰ä»£ç å—æ‰§è¡Œçš„è¯­å¥ã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œif è¯­å¥å¸¸è¢«ä½œä¸ºå«è¿°è¯­å¥ã€‚</span></p>
</blockquote><p>å¦‚æœæ£€æŸ¥æ— è¯¯ï¼Œé‚£ä¹ˆå°±è°ƒç”¨<code>op</code>å¹¶æŠŠé‚£ä¸¤ä¸ªæ“ä½œæ•°ä¼ ç»™å®ƒï¼Œæœ€åè¿”å›<code>op</code>è¿”å›çš„ç»“æœå’Œä»£è¡¨æ²¡æœ‰é”™è¯¯å‘ç”Ÿçš„<code>nil</code>ã€‚</p><p><strong>é—®é¢˜è§£æ</strong></p><p>å…¶å®åªè¦ä½ ææ‡‚äº†â€œå‡½æ•°æ˜¯ä¸€ç­‰çš„å…¬æ°‘â€è¿™å¥è¯èƒŒåçš„å«ä¹‰ï¼Œè¿™é“é¢˜å°±ä¼šå¾ˆç®€å•ã€‚æˆ‘åœ¨ä¸Šé¢å·²ç»è®²è¿‡äº†ï¼Œå¸Œæœ›ä½ å·²ç»æ¸…æ¥šäº†ã€‚æˆ‘åœ¨ä¸Šä¸€ä¸ªä¾‹å­ä¸­å±•ç¤ºäº†å…¶ä¸­ä¸€ç‚¹ï¼Œå³ï¼šæŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ™®é€šçš„å€¼èµ‹ç»™ä¸€ä¸ªå˜é‡ã€‚</p><p>åœ¨è¿™é“é¢˜ä¸­ï¼Œæˆ‘é—®çš„å…¶å®æ˜¯æ€æ ·å®ç°å¦ä¸€ç‚¹ï¼Œå³ï¼šè®©å‡½æ•°åœ¨å…¶ä»–å‡½æ•°é—´ä¼ é€’ã€‚</p><p>åœ¨ç­”æ¡ˆä¸­ï¼Œ<code>calculate</code>å‡½æ•°çš„å…¶ä¸­ä¸€ä¸ªå‚æ•°æ˜¯<code>operate</code>ç±»å‹çš„ï¼Œè€Œä¸”åè€…å°±æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ã€‚åœ¨è°ƒç”¨<code>calculate</code>å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥ä¸€ä¸ª<code>operate</code>ç±»å‹çš„å‡½æ•°å€¼ã€‚è¿™ä¸ªå‡½æ•°å€¼åº”è¯¥æ€ä¹ˆå†™ï¼Ÿ</p><p>åªè¦å®ƒçš„ç­¾åä¸<code>operate</code>ç±»å‹çš„ç­¾åä¸€è‡´ï¼Œå¹¶ä¸”å®ç°å¾—å½“å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬å¯ä»¥åƒä¸Šä¸€ä¸ªä¾‹å­é‚£æ ·å…ˆå£°æ˜å¥½ä¸€ä¸ªå‡½æ•°ï¼Œå†æŠŠå®ƒèµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç¼–å†™ä¸€ä¸ªå®ç°äº†<code>operate</code>ç±»å‹çš„åŒ¿åå‡½æ•°ã€‚</p><pre><code>op := func(x, y int) int {
	return x + y
}
</code></pre><p><code>calculate</code>å‡½æ•°å°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚ä½†æ˜¯æˆ‘ä»¬è¯´é«˜é˜¶å‡½æ•°çš„ç‰¹ç‚¹æœ‰ä¸¤ä¸ªï¼Œè€Œè¯¥å‡½æ•°åªå±•ç¤ºäº†å…¶ä¸­<strong>ä¸€ä¸ªç‰¹ç‚¹ï¼Œå³ï¼šæ¥å—å…¶ä»–çš„å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</strong></p><p><strong>é‚£å¦ä¸€ä¸ªç‰¹ç‚¹ï¼ŒæŠŠå…¶ä»–çš„å‡½æ•°ä½œä¸ºç»“æœè¿”å›ã€‚</strong>è¿™åˆæ˜¯æ€ä¹ˆç©çš„å‘¢ï¼Ÿä½ å¯ä»¥çœ‹çœ‹æˆ‘åœ¨demo27.goæ–‡ä»¶ä¸­å£°æ˜çš„å‡½æ•°ç±»å‹<code>calculateFunc</code>å’Œå‡½æ•°<code>genCalculator</code>ã€‚å…¶ä¸­ï¼Œ<code>genCalculator</code>å‡½æ•°çš„å”¯ä¸€ç»“æœçš„ç±»å‹å°±æ˜¯<code>calculateFunc</code>ã€‚</p><p>è¿™é‡Œå…ˆç»™å‡ºä½¿ç”¨å®ƒä»¬çš„ä»£ç ã€‚</p><pre><code>x, y = 56, 78
add := genCalculator(op)
result, err = add(x, y)
fmt.Printf(&quot;The result: %d (error: %v)\n&quot;, result, err)
</code></pre><p>ä½ å¯ä»¥è‡ªå·±å†™å‡º<code>calculateFunc</code>ç±»å‹å’Œ<code>genCalculator</code>å‡½æ•°çš„å®ç°å—ï¼Ÿä½ å¯ä»¥åŠ¨æ‰‹è¯•ä¸€è¯•</p><p><strong>çŸ¥è¯†æ‰©å±•</strong></p><p><strong>é—®é¢˜1ï¼šå¦‚ä½•å®ç°é—­åŒ…ï¼Ÿ</strong></p><p>é—­åŒ…åˆæ˜¯ä»€ä¹ˆï¼Ÿä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°ä¸­å­˜åœ¨å¯¹å¤–æ¥æ ‡è¯†ç¬¦çš„å¼•ç”¨ã€‚æ‰€è°“çš„å¤–æ¥æ ‡è¯†ç¬¦ï¼Œæ—¢ä¸ä»£è¡¨å½“å‰å‡½æ•°çš„ä»»ä½•å‚æ•°æˆ–ç»“æœï¼Œä¹Ÿä¸æ˜¯å‡½æ•°å†…éƒ¨å£°æ˜çš„ï¼Œå®ƒæ˜¯ç›´æ¥ä»å¤–è¾¹æ‹¿è¿‡æ¥çš„ã€‚</p><p>è¿˜æœ‰ä¸ªä¸“é—¨çš„æœ¯è¯­ç§°å‘¼å®ƒï¼Œå«è‡ªç”±å˜é‡ï¼Œå¯è§å®ƒä»£è¡¨çš„è‚¯å®šæ˜¯ä¸ªå˜é‡ã€‚å®é™…ä¸Šï¼Œå¦‚æœå®ƒæ˜¯ä¸ªå¸¸é‡ï¼Œé‚£ä¹Ÿå°±å½¢æˆä¸äº†é—­åŒ…äº†ï¼Œå› ä¸ºå¸¸é‡æ˜¯ä¸å¯å˜çš„ç¨‹åºå®ä½“ï¼Œè€Œé—­åŒ…ä½“ç°çš„å´æ˜¯ç”±â€œä¸ç¡®å®šâ€å˜ä¸ºâ€œç¡®å®šâ€çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚</p><p>æˆ‘ä»¬è¯´çš„è¿™ä¸ªå‡½æ•°ï¼ˆä»¥ä¸‹ç®€ç§°é—­åŒ…å‡½æ•°ï¼‰å°±æ˜¯å› ä¸ºå¼•ç”¨äº†è‡ªç”±å˜é‡ï¼Œè€Œå‘ˆç°å‡ºäº†ä¸€ç§â€œä¸ç¡®å®šâ€çš„çŠ¶æ€ï¼Œä¹Ÿå«â€œå¼€æ”¾â€çŠ¶æ€ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒçš„å†…éƒ¨é€»è¾‘å¹¶ä¸æ˜¯å®Œæ•´çš„ï¼Œæœ‰ä¸€éƒ¨åˆ†é€»è¾‘éœ€è¦è¿™ä¸ªè‡ªç”±å˜é‡å‚ä¸å®Œæˆï¼Œè€Œåè€…åˆ°åº•ä»£è¡¨äº†ä»€ä¹ˆåœ¨é—­åŒ…å‡½æ•°è¢«å®šä¹‰çš„æ—¶å€™å´æ˜¯æœªçŸ¥çš„ã€‚</p><p>å³ä½¿å¯¹äºåƒGoè¯­è¨€è¿™ç§é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€è€Œè¨€ï¼Œæˆ‘ä»¬åœ¨å®šä¹‰é—­åŒ…å‡½æ•°çš„æ—¶å€™æœ€å¤šä¹Ÿåªèƒ½çŸ¥é“è‡ªç”±å˜é‡çš„ç±»å‹ã€‚</p><p>åœ¨æˆ‘ä»¬åˆšåˆšæåˆ°çš„<code>genCalculator</code>å‡½æ•°å†…éƒ¨ï¼Œå®é™…ä¸Šå°±å®ç°äº†ä¸€ä¸ªé—­åŒ…ï¼Œè€Œ<code>genCalculator</code>å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚</p><pre><code>func genCalculator(op operate) calculateFunc {
	return func(x int, y int) (int, error) {
		if op == nil {
			return 0, errors.New(&quot;invalid operation&quot;)
		}
		return op(x, y), nil
	}
}
</code></pre><p><code>genCalculator</code>å‡½æ•°åªåšäº†ä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯å®šä¹‰ä¸€ä¸ªåŒ¿åçš„ã€<code>calculateFunc</code>ç±»å‹çš„å‡½æ•°å¹¶æŠŠå®ƒä½œä¸ºç»“æœå€¼è¿”å›ã€‚</p><p>è€Œè¿™ä¸ªåŒ¿åçš„å‡½æ•°å°±æ˜¯ä¸€ä¸ªé—­åŒ…å‡½æ•°ã€‚å®ƒé‡Œé¢ä½¿ç”¨çš„å˜é‡<code>op</code>æ—¢ä¸ä»£è¡¨å®ƒçš„ä»»ä½•å‚æ•°æˆ–ç»“æœä¹Ÿä¸æ˜¯å®ƒè‡ªå·±å£°æ˜çš„ï¼Œè€Œæ˜¯å®šä¹‰å®ƒçš„<code>genCalculator</code>å‡½æ•°çš„å‚æ•°ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªè‡ªç”±å˜é‡ã€‚</p><p>è¿™ä¸ªè‡ªç”±å˜é‡ç©¶ç«Ÿä»£è¡¨äº†ä»€ä¹ˆï¼Œè¿™ä¸€ç‚¹å¹¶ä¸æ˜¯åœ¨å®šä¹‰è¿™ä¸ªé—­åŒ…å‡½æ•°çš„æ—¶å€™ç¡®å®šçš„ï¼Œè€Œæ˜¯åœ¨<code>genCalculator</code>å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ç¡®å®šçš„ã€‚</p><p>åªæœ‰ç»™å®šäº†è¯¥å‡½æ•°çš„å‚æ•°<code>op</code>ï¼Œæˆ‘ä»¬æ‰èƒ½çŸ¥é“å®ƒè¿”å›ç»™æˆ‘ä»¬çš„é—­åŒ…å‡½æ•°å¯ä»¥ç”¨äºä»€ä¹ˆè¿ç®—ã€‚</p><p>çœ‹åˆ°<code>if op == nil {</code>é‚£ä¸€è¡Œäº†å—ï¼ŸGoè¯­è¨€ç¼–è¯‘å™¨è¯»åˆ°è¿™é‡Œæ—¶ä¼šè¯•å›¾å»å¯»æ‰¾<code>op</code>æ‰€ä»£è¡¨çš„ä¸œè¥¿ï¼Œå®ƒä¼šå‘ç°<code>op</code>ä»£è¡¨çš„æ˜¯<code>genCalculator</code>å‡½æ•°çš„å‚æ•°ï¼Œç„¶åï¼Œå®ƒä¼šæŠŠè¿™ä¸¤è€…è”ç³»èµ·æ¥ã€‚è¿™æ—¶å¯ä»¥è¯´ï¼Œè‡ªç”±å˜é‡<code>op</code>è¢«â€œæ•è·â€äº†ã€‚</p><p>å½“ç¨‹åºè¿è¡Œåˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œ<code>op</code>å°±æ˜¯é‚£ä¸ªå‚æ•°å€¼äº†ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œè¿™ä¸ªé—­åŒ…å‡½æ•°çš„çŠ¶æ€å°±ç”±â€œä¸ç¡®å®šâ€å˜ä¸ºäº†â€œç¡®å®šâ€ï¼Œæˆ–è€…è¯´è½¬åˆ°äº†â€œé—­åˆâ€çŠ¶æ€ï¼Œè‡³æ­¤ä¹Ÿå°±çœŸæ­£åœ°å½¢æˆäº†ä¸€ä¸ªé—­åŒ…ã€‚</p><p>çœ‹å‡ºæ¥äº†å—ï¼Ÿæˆ‘ä»¬åœ¨ç”¨é«˜é˜¶å‡½æ•°å®ç°é—­åŒ…ã€‚è¿™ä¹Ÿæ˜¯é«˜é˜¶å‡½æ•°çš„ä¸€å¤§åŠŸç”¨ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/61/08/61f3689a0023e83407ccae081cdd8108.png" alt=""></p><p>ï¼ˆé«˜é˜¶å‡½æ•°ä¸é—­åŒ…ï¼‰</p><p>é‚£ä¹ˆï¼Œå®ç°é—­åŒ…çš„æ„ä¹‰åˆåœ¨å“ªé‡Œå‘¢ï¼Ÿè¡¨é¢ä¸Šçœ‹ï¼Œæˆ‘ä»¬åªæ˜¯å»¶è¿Ÿå®ç°äº†ä¸€éƒ¨åˆ†ç¨‹åºé€»è¾‘æˆ–åŠŸèƒ½è€Œå·²ï¼Œä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬æ˜¯åœ¨åŠ¨æ€åœ°ç”Ÿæˆé‚£éƒ¨åˆ†ç¨‹åºé€»è¾‘ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å€Ÿæ­¤åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®éœ€è¦ç”ŸæˆåŠŸèƒ½ä¸åŒçš„å‡½æ•°ï¼Œç»§è€Œå½±å“åç»­çš„ç¨‹åºè¡Œä¸ºã€‚è¿™ä¸GoFè®¾è®¡æ¨¡å¼ä¸­çš„â€œæ¨¡æ¿æ–¹æ³•â€æ¨¡å¼æœ‰ç€å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œä¸æ˜¯å—ï¼Ÿ</p><p><strong>é—®é¢˜2ï¼šä¼ å…¥å‡½æ•°çš„é‚£äº›å‚æ•°å€¼åæ¥æ€ä¹ˆæ ·äº†ï¼Ÿ</strong></p><p>è®©æˆ‘ä»¬æŠŠç›®å…‰å†æ¬¡èšç„¦åˆ°å‡½æ•°æœ¬èº«ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç¤ºä¾‹ã€‚</p><pre><code>package main

import &quot;fmt&quot;

func main() {
	array1 := [3]string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}
	fmt.Printf(&quot;The array: %v\n&quot;, array1)
	array2 := modifyArray(array1)
	fmt.Printf(&quot;The modified array: %v\n&quot;, array2)
	fmt.Printf(&quot;The original array: %v\n&quot;, array1)
}

func modifyArray(a [3]string) [3]string {
	a[1] = &quot;x&quot;
	return a
}
</code></pre><p>è¿™ä¸ªå‘½ä»¤æºç æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯demo28.goï¼‰åœ¨è¿è¡Œä¹‹åä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿè¿™æ˜¯æˆ‘å¸¸å‡ºçš„ä¸€é“è€ƒé¢˜ã€‚</p><p>æˆ‘åœ¨<code>main</code>å‡½æ•°ä¸­å£°æ˜äº†ä¸€ä¸ªæ•°ç»„<code>array1</code>ï¼Œç„¶åæŠŠå®ƒä¼ ç»™äº†å‡½æ•°<code>modify</code>ï¼Œ<code>modify</code>å¯¹å‚æ•°å€¼ç¨ä½œä¿®æ”¹åå°†å…¶ä½œä¸ºç»“æœå€¼è¿”å›ã€‚<code>main</code>å‡½æ•°ä¸­çš„ä»£ç æ‹¿åˆ°è¿™ä¸ªç»“æœä¹‹åæ‰“å°äº†å®ƒï¼ˆå³<code>array2</code>ï¼‰ï¼Œä»¥åŠåŸæ¥çš„æ•°ç»„<code>array1</code>ã€‚å…³é”®é—®é¢˜æ˜¯ï¼ŒåŸæ•°ç»„ä¼šå› <code>modify</code>å‡½æ•°å¯¹å‚æ•°å€¼çš„ä¿®æ”¹è€Œæ”¹å˜å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼šåŸæ•°ç»„ä¸ä¼šæ”¹å˜ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼ŸåŸå› æ˜¯ï¼Œæ‰€æœ‰ä¼ ç»™å‡½æ•°çš„å‚æ•°å€¼éƒ½ä¼šè¢«å¤åˆ¶ï¼Œå‡½æ•°åœ¨å…¶å†…éƒ¨ä½¿ç”¨çš„å¹¶ä¸æ˜¯å‚æ•°å€¼çš„åŸå€¼ï¼Œè€Œæ˜¯å®ƒçš„å‰¯æœ¬ã€‚</p><p>ç”±äºæ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡å¤åˆ¶éƒ½ä¼šæ‹·è´å®ƒï¼Œä»¥åŠå®ƒçš„æ‰€æœ‰å…ƒç´ å€¼ã€‚æˆ‘åœ¨<code>modify</code>å‡½æ•°ä¸­ä¿®æ”¹çš„åªæ˜¯åŸæ•°ç»„çš„å‰¯æœ¬è€Œå·²ï¼Œå¹¶ä¸ä¼šå¯¹åŸæ•°ç»„é€ æˆä»»ä½•å½±å“ã€‚</p><p>æ³¨æ„ï¼Œå¯¹äºå¼•ç”¨ç±»å‹ï¼Œæ¯”å¦‚ï¼šåˆ‡ç‰‡ã€å­—å…¸ã€é€šé“ï¼Œåƒä¸Šé¢é‚£æ ·å¤åˆ¶å®ƒä»¬çš„å€¼ï¼Œåªä¼šæ‹·è´å®ƒä»¬æœ¬èº«è€Œå·²ï¼Œå¹¶ä¸ä¼šæ‹·è´å®ƒä»¬å¼•ç”¨çš„åº•å±‚æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ—¶åªæ˜¯æµ…è¡¨å¤åˆ¶ï¼Œè€Œä¸æ˜¯æ·±å±‚å¤åˆ¶ã€‚</p><p>ä»¥åˆ‡ç‰‡å€¼ä¸ºä¾‹ï¼Œå¦‚æ­¤å¤åˆ¶çš„æ—¶å€™ï¼Œåªæ˜¯æ‹·è´äº†å®ƒæŒ‡å‘åº•å±‚æ•°ç»„ä¸­æŸä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼Œä»¥åŠå®ƒçš„é•¿åº¦å€¼å’Œå®¹é‡å€¼ï¼Œè€Œå®ƒçš„åº•å±‚æ•°ç»„å¹¶ä¸ä¼šè¢«æ‹·è´ã€‚</p><p>å¦å¤–è¿˜è¦æ³¨æ„ï¼Œå°±ç®—æˆ‘ä»¬ä¼ å…¥å‡½æ•°çš„æ˜¯ä¸€ä¸ªå€¼ç±»å‹çš„å‚æ•°å€¼ï¼Œä½†å¦‚æœè¿™ä¸ªå‚æ•°å€¼ä¸­çš„æŸä¸ªå…ƒç´ æ˜¯å¼•ç”¨ç±»å‹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»ç„¶è¦å°å¿ƒã€‚</p><p>æ¯”å¦‚ï¼š</p><pre><code>complexArray1 := [3][]string{
	[]string{&quot;d&quot;, &quot;e&quot;, &quot;f&quot;},
	[]string{&quot;g&quot;, &quot;h&quot;, &quot;i&quot;},
	[]string{&quot;j&quot;, &quot;k&quot;, &quot;l&quot;},
}
</code></pre><p>å˜é‡<code>complexArray1</code>æ˜¯<code>[3][]string</code>ç±»å‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ åˆéƒ½æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ã€‚è¿™æ ·ä¸€ä¸ªå€¼è¢«ä¼ å…¥å‡½æ•°çš„è¯ï¼Œå‡½æ•°ä¸­å¯¹è¯¥å‚æ•°å€¼çš„ä¿®æ”¹ä¼šå½±å“åˆ°<code>complexArray1</code>æœ¬èº«å—ï¼Ÿæˆ‘æƒ³ï¼Œè¿™å¯ä»¥ç•™ä½œä»Šå¤©çš„æ€è€ƒé¢˜ã€‚</p><p><strong>æ€»ç»“</strong></p><p>æˆ‘ä»¬ä»Šå¤©ä¸»è¦èšç„¦äºå‡½æ•°çš„ä½¿ç”¨æ‰‹æ³•ã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œå‡½æ•°å¯æ˜¯ä¸€ç­‰çš„ï¼ˆfirst-classï¼‰å…¬æ°‘ã€‚å®ƒæ—¢å¯ä»¥è¢«ç‹¬ç«‹å£°æ˜ï¼Œä¹Ÿå¯ä»¥è¢«ä½œä¸ºæ™®é€šçš„å€¼æ¥ä¼ é€’æˆ–èµ‹äºˆå˜é‡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨å…¶ä»–å‡½æ•°çš„å†…éƒ¨å£°æ˜åŒ¿åå‡½æ•°å¹¶æŠŠå®ƒç›´æ¥èµ‹ç»™å˜é‡ã€‚</p><p>ä½ éœ€è¦è®°ä½Goè¯­è¨€æ˜¯æ€æ ·é‰´åˆ«ä¸€ä¸ªå‡½æ•°çš„ï¼Œå‡½æ•°çš„ç­¾ååœ¨è¿™é‡Œèµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p><p>å‡½æ•°æ˜¯Goè¯­è¨€æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„ä¸»è¦ä½“ç°ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡â€œæŠŠå‡½æ•°ä¼ ç»™å‡½æ•°â€ä»¥åŠâ€œè®©å‡½æ•°è¿”å›å‡½æ•°â€æ¥ç¼–å†™é«˜é˜¶å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ç”¨é«˜é˜¶å‡½æ•°æ¥å®ç°é—­åŒ…ï¼Œå¹¶ä»¥æ­¤åšåˆ°éƒ¨åˆ†ç¨‹åºé€»è¾‘çš„åŠ¨æ€ç”Ÿæˆã€‚</p><p>æˆ‘ä»¬åœ¨æœ€åè¿˜è¯´äº†ä¸€ä¸‹å…³äºå‡½æ•°ä¼ å‚çš„ä¸€ä¸ªæ³¨æ„äº‹é¡¹ï¼Œè¿™å¾ˆé‡è¦ï¼Œå¯èƒ½ä¼šå…³ç³»åˆ°ç¨‹åºçš„ç¨³å®šå’Œå®‰å…¨ã€‚</p><p>ä¸€ä¸ªç›¸å…³çš„åŸåˆ™æ˜¯ï¼šæ—¢ä¸è¦æŠŠä½ ç¨‹åºçš„ç»†èŠ‚æš´éœ²ç»™å¤–ç•Œï¼Œä¹Ÿå°½é‡ä¸è¦è®©å¤–ç•Œçš„å˜åŠ¨å½±å“åˆ°ä½ çš„ç¨‹åºã€‚ä½ å¯ä»¥æƒ³æƒ³è¿™ä¸ªåŸåˆ™åœ¨è¿™é‡Œå¯ä»¥èµ·åˆ°æ€æ ·çš„æŒ‡å¯¼ä½œç”¨ã€‚</p><p><strong>æ€è€ƒé¢˜</strong></p><p>ä»Šå¤©æˆ‘ç»™ä½ ç•™ä¸‹ä¸¤é“æ€è€ƒé¢˜ã€‚</p><ol>
<li><code>complexArray1</code>è¢«ä¼ å…¥å‡½æ•°çš„è¯ï¼Œè¿™ä¸ªå‡½æ•°ä¸­å¯¹è¯¥å‚æ•°å€¼çš„ä¿®æ”¹ä¼šå½±å“åˆ°å®ƒçš„åŸå€¼å—ï¼Ÿ</li>
<li>å‡½æ•°çœŸæ­£æ‹¿åˆ°çš„å‚æ•°å€¼å…¶å®åªæ˜¯å®ƒä»¬çš„å‰¯æœ¬ï¼Œé‚£ä¹ˆå‡½æ•°è¿”å›ç»™è°ƒç”¨æ–¹çš„ç»“æœå€¼ä¹Ÿä¼šè¢«å¤åˆ¶å—ï¼Ÿ</li>
</ol><p><a href="https://github.com/hyper0x/Golang_Puzzlers">æˆ³æ­¤æŸ¥çœ‹Goè¯­è¨€ä¸“æ æ–‡ç« é…å¥—è¯¦ç»†ä»£ç ã€‚</a></p><p><img src="https://static001.geekbang.org/resource/image/35/48/358e4e8578a706598e18a7dfed3ed648.jpg" alt=""></p>
                    </div>
                </div>

            </div>
            <div data-v-87ffcada="" class="article-comments pd"><h2 data-v-87ffcada=""><span
                    data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2>
                <ul data-v-87ffcada="">
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/23/63/4fb6fee0.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ·±ç™½è‰²</span>
                            </div>
                            <div class="bd">1.åˆ†2ç§æƒ…å†µï¼Œè‹¥æ˜¯ä¿®æ”¹æ•°ç»„ä¸­çš„åˆ‡ç‰‡çš„æŸä¸ªå…ƒç´ ï¼Œä¼šå½±å“åŸæ•°ç»„ã€‚è‹¥æ˜¯ä¿®æ”¹æ•°ç»„çš„æŸä¸ªå…ƒç´ å³a[1]=[]string{&quot;x&quot;}å°±ä¸ä¼šå½±å“åŸæ•°ç»„ã€‚è°¨è®°Goä¸­éƒ½æ˜¯æµ…æ‹·è´ï¼Œå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«<br>2.å½“å‡½æ•°è¿”å›æŒ‡é’ˆç±»å‹æ—¶ä¸ä¼šå‘ç”Ÿæ‹·è´ã€‚å½“å‡½æ•°è¿”å›éæŒ‡é’ˆç±»å‹å¹¶æŠŠç»“æœèµ‹å€¼ç»™å…¶å®ƒå˜é‡è‚¯å®šä¼šå‘ç”Ÿæ‹·è´ <br></div>
                            <span class="time">2018-09-07 07:52</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/9f/1d/ec173090.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">melon</span>
                            </div>
                            <div class="bd">æ„Ÿè§‰goé‡Œé€šå¸¸å†™çš„å‡½æ•°çš„å®šä¹‰æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§è¯­æ³•ç³–å½¢å¼ï¼Œæ¯”å¦‚<br>func test(int)int {<br>	...<br>}<br>å…¶å®è´¨å°±ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªåä¸ºtestï¼Œç±»å‹ä¸ºfunc(int)intçš„å˜é‡ï¼Œå¹¶ç»™è¿™ä¸ªå˜é‡èµ‹äº†å€¼ä¸º{...}çš„åˆå€¼ï¼Œè€å¸ˆè¿™æ ·ç†è§£å¯¹å§ã€‚ <br></div>
                            <span class="time">2018-09-07 10:55</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/87/64/3882d90d.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">yandongxiao</span>
                            </div>
                            <div class="bd">goè¯­æ³•çš„ä¸€è‡´æ€§å¾ˆå®Œç¾ã€‚<br><br>[]int{}, map[int]int{} struct{}{} å®ƒä»¬éƒ½æ˜¯ç”±type + literalçš„å½¢å¼æ„æˆã€‚<br>æ‰€ä»¥ï¼Œfunc (x, y int) int {} ä¹Ÿæ˜¯function type + function literalçš„å½¢å¼ã€‚<br>ä¸Šé¢çš„è¡¨è¾¾å¼è¿”å›å·²å£°æ˜å¹¶åˆå§‹åŒ–çš„å˜é‡ã€‚æ‰€ä»¥foo := func (x, y int) int {} å°±æ„æˆäº†æ‰€è°“çš„åŒ¿åå˜é‡ã€‚<br>func Foo(x, y int) int{} æ›´åƒæ˜¯ç»™å®šä¹‰çš„å‡½æ•°å¸¸é‡ï¼Œå› ä¸ºFooä¸èƒ½å†è¢«èµ‹äºˆå…¶å®ƒå€¼äº†ã€‚<br><br>æ—¢ç„¶æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥å£°æ˜ä¸ºå˜é‡ï¼Œé‚£ä¹ˆå˜é‡ä¹‹é—´å°±å¯ä»¥æ¯”è¾ƒã€‚ <br></div>
                            <span class="time">2018-09-25 21:16</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/59/5b/dc8ed037.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">mumu</span>
                            </div>
                            <div class="bd">é—­åŒ…è¿™é‡Œä¸ºå•¥ä¸èƒ½è¿™æ ·å®ç°å‘¢<br>func  genCalculator(op  operate) calculateFunc{<br>    return  op<br>} <br></div>
                            <span class="time">2018-09-09 12:58</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/52/99/4a7f2fc9.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">RyuGou</span>
                            </div>
                            <div class="bd">ç¬¬ä¸€é“é¢˜ï¼Œæ˜¾ç„¶æ˜¯ä¸ä¼šé€ æˆåŸæ¥å†…å®¹çš„ä¿®æ”¹å‘€<br>package main<br><br>import &quot;fmt&quot;<br><br>func main(){<br>	complexArray := [3][]string{<br>		[]string{&quot;d&quot;, &quot;s&quot;, &quot;f&quot;},<br>		[]string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;},<br>		[]string{&quot;e&quot;, &quot;g&quot;, &quot;h&quot;},<br>	}<br>	tryTest(complexArray)<br>	fmt.Println(complexArray)<br>}<br><br><br>func tryTest(array [3][]string){<br>	array[1] = []string{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;}<br>	return<br>}<br>è¾“å‡ºï¼š<br>[[d s f] [a b c] [e g h]] <br></div>
                            <span class="time">2018-09-07 23:55</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å› ä¸ºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ä¹Ÿä¼šè¢«å¤åˆ¶ï¼Œä½ è¿™æ ·èµ‹å€¼åªä¼šæ”¹å˜æ•°ç»„å‰¯æœ¬ä¸­çš„ä¸€ä¸ªå…ƒç´ å€¼è€Œå·²ã€‚ä½ ç›´æ¥æ”¹å…¶ä¸­çš„åˆ‡ç‰‡çš„å…ƒç´ å€¼å°±ä¼šå½±å“åˆ°å¤–è¾¹äº†ã€‚</p>
                                <p class="reply-time">2018-09-08 13:51</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/84/5e/79568644.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å…”å­é«˜</span>
                            </div>
                            <div class="bd">å“ˆå–½è€å¸ˆä½ å¥½ï¼Œæˆ‘å­¦goçš„åå°„æ˜¯å­¦çš„æœ€ä¹±çš„ï¼Œåå°„å¯ä»¥æ‹¿åˆ°æ‚¨å¥½å¥½è®²ä¸€è®²å—ï¼Ÿç„¶åæœ€è¿‘çœ‹åˆ°äº†goæ–°å‡ºçš„æ³•æ¡ˆé‡Œè¯´go 2.0ä¼šå‡ºæ³›å‹æœ‰è€ƒè™‘è®²ä¸€ä¸‹goçš„æ³›å‹å—ï¼Ÿ <br></div>
                            <span class="time">2018-09-07 10:35</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">Goçš„æ³›å‹å‡ å¹´åæ‰ä¼šæ¨å‡ºï¼Œç°åœ¨æ²¡å¿…è¦è®²å•Šã€‚</p>
                                <p class="reply-time">2018-09-08 13:54</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">benben</span>
                            </div>
                            <div class="bd">ç¬¬ä¸€ä¸ªé—®é¢˜åº”è¯¥ä¼šå—å½±å“ï¼Œå› ä¸ºæ•°ç»„å…ƒç´ æ˜¯åˆ‡ç‰‡<br>ç¬¬äºŒé—®é¢˜æˆ‘æƒ³åº”è¯¥æ˜¯å¤åˆ¶çš„ <br></div>
                            <span class="time">2018-09-07 07:52</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">benben</span>
                            </div>
                            <div class="bd">ç¬¬ä¸€ä¸ªé—®é¢˜åº”è¯¥ä¼šå—å½±å“ï¼Œå› ä¸ºåˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹çš„<br>ç¬¬äºŒä¸ªé—®é¢˜æˆ‘æƒ³æ˜¯å¤åˆ¶çš„ <br></div>
                            <span class="time">2018-09-07 07:48</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/a4/76/585dc6b3.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">hiyanxu</span>
                            </div>
                            <div class="bd">è€å¸ˆå¥½ï¼Œæˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œå‡½æ•°ç±»å‹ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹å§ã€‚<br>å› ä¸ºæˆ‘æµ‹è¯•çœ‹å½“å°†ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å€¼ä½œä¸ºå‚æ•°ä¼ å…¥çš„æ—¶å€™ï¼Œå‚æ•°å¤–å’Œå‚æ•°å†…å‡½æ•°å€¼çš„åœ°å€æ˜¯ä¸€æ ·çš„ <br></div>
                            <span class="time">2018-12-18 11:03</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/75/6f/8a6e0a14.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ä»»æ€§ğŸ˜€</span>
                            </div>
                            <div class="bd">1ï¼šç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä¿®æ”¹äº†å¼•ç”¨ç±»å‹çš„å€¼ä¼šå—å½±å“<br>2: æ²¡æœ‰çœ‹æ‡‚ <br></div>
                            <span class="time">2018-09-28 16:59</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼Œä»å‡½æ•°è¿”å›çš„ç»“æœå€¼ä¼šè¢«å¤åˆ¶å—ï¼Ÿæ¯”å¦‚ä½ ä¼ å‡ºå»ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒè¿˜ä¼šæ˜¯å‡½æ•°ä¸­çš„é‚£ä¸ªæ•°ç»„å—ï¼Ÿ</p>
                                <p class="reply-time">2018-10-02 11:53</p>
                            </div>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/49/b7/5bc10d13.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">TimLiu</span>
                            </div>
                            <div class="bd">é’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œåšäº†ä¸‹å®éªŒï¼Œå‘ç°å¦‚æœæ”¹å˜æ•°ç»„ä¸­çš„å…ƒç´ æ—¶æ˜¯ä¸ä¼šæ”¹å˜æºæ•°ç»„çš„ï¼Œå½“æ”¹å˜æ•°ç»„ä¸­çš„åˆ‡ç‰‡ä¸­çš„å…ƒç´ æ—¶æ˜¯ä¼šæ”¹å˜æºæ•°ç»„çš„ï¼Œæˆ‘çŒœæ˜¯å› ä¸ºåˆ‡ç‰‡æ”¹å˜å…ƒç´ æ—¶åº•å±‚æ•°ç»„ä¼šæ”¹å˜ï¼Œæ‰€ä»¥æºæ•°ç»„ä¹Ÿè·Ÿç€æ”¹å˜<br><br>package main<br><br>import &quot;fmt&quot;<br><br>func main() {<br>	complexArray1 := [3][]string{<br>		[]string{&quot;d&quot;, &quot;e&quot;, &quot;f&quot;},<br>		[]string{&quot;g&quot;, &quot;h&quot;, &quot;i&quot;},<br>		[]string{&quot;j&quot;, &quot;k&quot;, &quot;l&quot;},<br>	}<br><br>	fmt.Printf(&quot;The array: %v\n&quot;, complexArray1)<br>	array2 := modifyArray(complexArray1)<br>	fmt.Printf(&quot;The modified array: %v\n&quot;, array2)<br>	fmt.Printf(&quot;The original array: %v\n&quot;, complexArray1)<br>	array3 := modifyArray1(complexArray1)<br>	fmt.Printf(&quot;The modified array: %v\n&quot;, array3)<br>	fmt.Printf(&quot;The original array: %v\n&quot;, complexArray1)<br>}<br><br>func modifyArray(a [3][]string) [3][]string {<br>	a[1] = []string{&quot;d&quot;, &quot;e&quot;, &quot;p&quot;}<br>	return a<br>}<br><br>func modifyArray1(a [3][]string) [3][]string {<br>	a[1][1] = &quot;v&quot;<br>	return a<br>}<br> <br></div>
                            <span class="time">2018-09-27 16:54</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/97/36/ee863508.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å°æ°æ§</span>
                            </div>
                            <div class="bd">æˆ‘å¯¹äºé—®é¢˜ä¸€çš„ç†è§£åœ¨è¿™æ®µä»£ç é‡Œï¼š<br>func modifyArray(arr [3][]string) [3][]string {<br>        arr[1] = []string{&quot;x&quot;, &quot;x&quot;, &quot;x&quot;}<br>        return arr<br>}<br><br>func modifyArray2(arr [3][]string) [3][]string {<br>        arr[1][1] = &quot;x&quot;<br>        return arr<br>}<br><br>func main() {<br>        complexArray1 := [3][]string{<br>                []string{&quot;d&quot;, &quot;e&quot;, &quot;f&quot;},<br>                []string{&quot;g&quot;, &quot;h&quot;, &quot;i&quot;},<br>                []string{&quot;j&quot;, &quot;k&quot;, &quot;l&quot;},<br>        }<br><br>        fmt.Printf(&quot;The array: %v\n&quot;, complexArray1)<br>        &#47;&#47; array2 := modifyArray(complexArray1)<br>        array2 := modifyArray2(complexArray1)<br>        fmt.Printf(&quot;The modified array: %v\n&quot;, array2)<br>        fmt.Printf(&quot;The original array: %v\n&quot;, complexArray1)<br>} <br></div>
                            <span class="time">2018-09-26 14:17</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/fc/5b/53613c55.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">xiwi</span>
                            </div>
                            <div class="bd">è€å¸ˆï¼Œfunc genCalculator(op operate) calculateFunc{<br>    ...<br>}<br><br>è¿™ä¸ªåœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šæç¤ºcalculateFunc æœªå®šä¹‰å‘¢ï¼<br>æˆ‘å°†è¿™ä¸ªå‡½æ•°æ”¹æˆäº†<br>func genCalculator(op operate) func(x, y int) (int, error){<br>    ...<br>}<br>è¿™æ ·å°±æ²¡é—®é¢˜ï¼ <br></div>
                            <span class="time">2018-09-24 07:46</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/88/4c/2c3d2c7d.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">å°å¼º</span>
                            </div>
                            <div class="bd">ä¸ºä»€ä¹ˆgoçš„å‡½æ•°è®¾è®¡è¿™ä¹ˆå¤æ‚ï¼Œå¤ªå¤´å¤§äº†ï¼ <br></div>
                            <span class="time">2018-09-19 22:42</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/c8/2d/3dd499a9.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æˆéƒ½ç¦å“¥</span>
                            </div>
                            <div class="bd">å‡½æ•°æ‰§è¡Œå®Œï¼Œæ ˆç©ºé—´å°±å›æ”¶äº†ã€‚è¿”å›å€¼åº”è¯¥æ˜¯é€šè¿‡å¯„å­˜å™¨æˆ–è€…æ˜¯è°ƒç”¨è€…æ ˆç©ºé—´çš„åœ°å€æ¥å­˜å‚¨çš„ã€‚<br>ä»è¿™è§’åº¦åšä¸ªçŒœæƒ³ï¼Œåº”è¯¥æ˜¯è¦å¤åˆ¶å‡ºæ¥çš„å§ã€‚ <br></div>
                            <span class="time">2018-09-14 11:17</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/22/33/6b9a7719.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">é‡‘é˜³</span>
                            </div>
                            <div class="bd">func printToStd(content string) (bytesNum int, err error)<br>è¿”å›å€¼æ˜¯(bytesNum int, err error)<br>ä¸ºä»€ä¹ˆ è¿”å›fmt.println(content)ä¸æŠ¥é”™ <br></div>
                            <span class="time">2018-09-12 16:55</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/11/13/00/a4a2065f.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Michael</span>
                            </div>
                            <div class="bd">ç¬¬ä¸€ä¸ªæ˜¯ä¼šçš„ï¼Œæ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œè¢«ä¼ å…¥å‡½æ•°æ—¶ä¼šè¿›è¡Œæ·±å±‚å¤åˆ¶ï¼Œä½†æ˜¯ä»–çš„æ¯ä¸€ä¸ªå…ƒç´ ç±»å‹æ˜¯åˆ‡ç‰‡ï¼Œæ—¢å¼•ç”¨ï¼Œæ‰€ä»¥å¤åˆ¶çš„ä¹Ÿå°±æ˜¯å¼•ç”¨ï¼Œæ”¹å˜æŸä¸ªåˆ‡ç‰‡ä¸­çš„æŸä¸ªå…ƒç´ çš„å†…å®¹ï¼Œè¿›è€Œå½±å“äº†æ„¿æ•°ç»„ã€‚ <br></div>
                            <span class="time">2018-09-09 20:32</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/12/86/8a/cb3b4b0f.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">Tã€</span>
                            </div>
                            <div class="bd">ä¸é”™å“¦ <br></div>
                            <span class="time">2018-09-08 20:15</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/0f/cb/67/5a3f9ae8.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">ç‹è…¾é£</span>
                            </div>
                            <div class="bd">å…³äºé—­åŒ…ï¼Œå‡½æ•°å†…ä¿®æ”¹å¤–éƒ¨å˜é‡ä¼šæœ‰ä»€ä¹ˆæ•ˆæœå‘¢ï¼Ÿå‡è®¾ä¸€ä¸ªé«˜é˜¶å‡½æ•°è¿”å›äº†ä¸¤ä¸ªé—­åŒ…å‡½æ•°ï¼Œå…¶ä¸­ä¸€ä¸ªå‡½æ•°ä¿®æ”¹äº†å¤–éƒ¨å˜é‡çš„å€¼ï¼Œé‚£è¿™ä¸ªå˜åŒ–ä¼šä¼ é€’åˆ°å¦ä¸€ä¸ªå‡½æ•°ä¸­å—ï¼Ÿ <br></div>
                            <span class="time">2018-09-08 16:20</span>
                            
                        </div>
                    </li>
                    
                    <li data-v-87ffcada="" class="comment-item"><img
                            src="https://static001.geekbang.org/account/avatar/00/10/e8/95/64cc02df.jpg" class="avatar">
                        <div class="info">
                            <div class="hd"><span class="username">æ¬¢å–œå“¥</span>
                            </div>
                            <div class="bd">æˆ‘åœ¨ä¸‹é¢å£°æ˜çš„å‡½æ•°printToStdçš„ç­¾åä¸Printerçš„æ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤å‰è€…æ˜¯åè€…çš„ä¸€ä¸ªå®ç°ï¼Œå³ä½¿å®ƒä»¬çš„åç§°ä»¥åŠæœ‰çš„ç»“æœåç§°æ˜¯ä¸åŒçš„ã€‚<br><br>è¿™ä¸ªåœ°æ–¹æ˜¯ä¸æ˜¯  åè€…æ˜¯å‰è€…çš„å®ç°? ä¹Ÿå°±æ˜¯printToStd  æ˜¯ Printerçš„å®ç°ï¼Ÿ <br></div>
                            <span class="time">2018-09-07 08:18</span>
                            
                            <div class="reply">
                                <div class="reply-hd"><span>ä½œè€…å›å¤</span></div>
                                <p class="reply-content">å¯¹ï¼Œä½ å¯ä»¥æŠŠè¿™çœ‹åšæ˜¯å‡½æ•°çº§åˆ«çš„æ¥å£å’Œå®ç°ã€‚</p>
                                <p class="reply-time">2018-09-08 13:56</p>
                            </div>
                            
                        </div>
                    </li>
                    


                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>